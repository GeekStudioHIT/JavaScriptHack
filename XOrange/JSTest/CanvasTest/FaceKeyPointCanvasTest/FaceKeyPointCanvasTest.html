<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>canvasTest1</title>
</head>
<body>
<canvas id="canvas" style="border:1px solid #aaa; display:block; margin:50px auto">
    当前浏览器不支持 Canvas，请更换浏览器后再试
</canvas>
<script>
    var data = {
        "contour_chin": {
            "x": 54.966939,
            "y": 38.008333
        },
        "contour_left1": {
            "x": 37.728341,
            "y": 23.662833
        },
        "contour_left2": {
            "x": 38.068747,
            "y": 25.982833
        },
        "contour_left3": {
            "x": 38.700928,
            "y": 28.2575
        },
        "contour_left4": {
            "x": 39.509077,
            "y": 30.453833
        },
        "contour_left5": {
            "x": 40.318731,
            "y": 32.4745
        },
        "contour_left6": {
            "x": 42.003211,
            "y": 34.307667
        },
        "contour_left7": {
            "x": 44.0672,
            "y": 36.154
        },
        "contour_left8": {
            "x": 47.027824,
            "y": 37.387333
        },
        "contour_left9": {
            "x": 50.779051,
            "y": 38.130333
        },
        "contour_right1": {
            "x": 67.515813,
            "y": 22.809333
        },
        "contour_right2": {
            "x": 67.186688,
            "y": 24.786833
        },
        "contour_right3": {
            "x": 66.599627,
            "y": 27.304333
        },
        "contour_right4": {
            "x": 66.311611,
            "y": 29.251333
        },
        "contour_right5": {
            "x": 65.80752,
            "y": 31.252167
        },
        "contour_right6": {
            "x": 64.750709,
            "y": 33.229333
        },
        "contour_right7": {
            "x": 63.184795,
            "y": 34.870333
        },
        "contour_right8": {
            "x": 61.158656,
            "y": 36.399333
        },
        "contour_right9": {
            "x": 58.777323,
            "y": 37.485667
        },
        "left_eye_bottom": {
            "x": 47.357952,
            "y": 23.674
        },
        "left_eye_center": {
            "x": 47.281248,
            "y": 23.0815
        },
        "left_eye_left_corner": {
            "x": 44.281771,
            "y": 23.398667
        },
        "left_eye_lower_left_quarter": {
            "x": 45.738144,
            "y": 23.577167
        },
        "left_eye_lower_right_quarter": {
            "x": 48.826357,
            "y": 23.515667
        },
        "left_eye_pupil": {
            "x": 47.106533,
            "y": 22.985667
        },
        "left_eye_right_corner": {
            "x": 50.382747,
            "y": 23.3945
        },
        "left_eye_top": {
            "x": 47.337397,
            "y": 22.379167
        },
        "left_eye_upper_left_quarter": {
            "x": 45.670965,
            "y": 22.675833
        },
        "left_eye_upper_right_quarter": {
            "x": 48.756672,
            "y": 22.667333
        },
        "left_eyebrow_left_corner": {
            "x": 41.508896,
            "y": 22.39
        },
        "left_eyebrow_lower_left_quarter": {
            "x": 43.642069,
            "y": 21.6265
        },
        "left_eyebrow_lower_middle": {
            "x": 45.923888,
            "y": 21.168167
        },
        "left_eyebrow_lower_right_quarter": {
            "x": 48.521797,
            "y": 21.2945
        },
        "left_eyebrow_right_corner": {
            "x": 50.885083,
            "y": 21.406833
        },
        "left_eyebrow_upper_left_quarter": {
            "x": 42.902603,
            "y": 20.777833
        },
        "left_eyebrow_upper_middle": {
            "x": 45.639883,
            "y": 20.029667
        },
        "left_eyebrow_upper_right_quarter": {
            "x": 48.588475,
            "y": 20.171167
        },
        "mouth_left_corner": {
            "x": 49.217147,
            "y": 32.491833
        },
        "mouth_lower_lip_bottom": {
            "x": 54.405445,
            "y": 33.391167
        },
        "mouth_lower_lip_left_contour1": {
            "x": 51.978992,
            "y": 32.412167
        },
        "mouth_lower_lip_left_contour2": {
            "x": 50.948501,
            "y": 32.9205
        },
        "mouth_lower_lip_left_contour3": {
            "x": 52.655541,
            "y": 33.305833
        },
        "mouth_lower_lip_right_contour1": {
            "x": 56.920635,
            "y": 32.338
        },
        "mouth_lower_lip_right_contour2": {
            "x": 57.736555,
            "y": 32.7335
        },
        "mouth_lower_lip_right_contour3": {
            "x": 56.126021,
            "y": 33.2755
        },
        "mouth_lower_lip_top": {
            "x": 54.714768,
            "y": 32.5145
        },
        "mouth_right_corner": {
            "x": 58.859792,
            "y": 32.202
        },
        "mouth_upper_lip_bottom": {
            "x": 54.802501,
            "y": 32.4115
        },
        "mouth_upper_lip_left_contour1": {
            "x": 53.334848,
            "y": 31.736667
        },
        "mouth_upper_lip_left_contour2": {
            "x": 51.155051,
            "y": 32.138833
        },
        "mouth_upper_lip_left_contour3": {
            "x": 52.115355,
            "y": 32.276
        },
        "mouth_upper_lip_right_contour1": {
            "x": 56.075387,
            "y": 31.659667
        },
        "mouth_upper_lip_right_contour2": {
            "x": 57.48664,
            "y": 31.793667
        },
        "mouth_upper_lip_right_contour3": {
            "x": 56.717845,
            "y": 32.159
        },
        "mouth_upper_lip_top": {
            "x": 54.808016,
            "y": 31.928833
        },
        "nose_contour_left1": {
            "x": 52.291072,
            "y": 23.271667
        },
        "nose_contour_left2": {
            "x": 51.872459,
            "y": 26.460333
        },
        "nose_contour_left3": {
            "x": 52.826496,
            "y": 28.8575
        },
        "nose_contour_lower_middle": {
            "x": 54.971952,
            "y": 28.781333
        },
        "nose_contour_right1": {
            "x": 55.863323,
            "y": 23.294
        },
        "nose_contour_right2": {
            "x": 56.887045,
            "y": 26.223333
        },
        "nose_contour_right3": {
            "x": 56.568448,
            "y": 28.648167
        },
        "nose_left": {
            "x": 50.967051,
            "y": 28.1245
        },
        "nose_right": {
            "x": 57.71976,
            "y": 27.927
        },
        "nose_tip": {
            "x": 55.171984,
            "y": 27.227
        },
        "right_eye_bottom": {
            "x": 60.218155,
            "y": 23.254167
        },
        "right_eye_center": {
            "x": 60.058731,
            "y": 22.667667
        },
        "right_eye_left_corner": {
            "x": 56.948709,
            "y": 23.058
        },
        "right_eye_lower_left_quarter": {
            "x": 58.369237,
            "y": 23.139667
        },
        "right_eye_lower_right_quarter": {
            "x": 61.745216,
            "y": 23.093
        },
        "right_eye_pupil": {
            "x": 60.218155,
            "y": 22.577333
        },
        "right_eye_right_corner": {
            "x": 62.824336,
            "y": 22.955
        },
        "right_eye_top": {
            "x": 60.080539,
            "y": 22.005833
        },
        "right_eye_upper_left_quarter": {
            "x": 58.439424,
            "y": 22.272333
        },
        "right_eye_upper_right_quarter": {
            "x": 61.500315,
            "y": 22.240833
        },
        "right_eyebrow_left_corner": {
            "x": 56.830144,
            "y": 21.151167
        },
        "right_eyebrow_lower_left_quarter": {
            "x": 59.391456,
            "y": 20.9725
        },
        "right_eyebrow_lower_middle": {
            "x": 61.608352,
            "y": 20.794167
        },
        "right_eyebrow_lower_right_quarter": {
            "x": 63.565307,
            "y": 21.054667
        },
        "right_eyebrow_right_corner": {
            "x": 65.260315,
            "y": 21.915
        },
        "right_eyebrow_upper_left_quarter": {
            "x": 59.260357,
            "y": 19.8925
        },
        "right_eyebrow_upper_middle": {
            "x": 61.519867,
            "y": 19.579167
        },
        "right_eyebrow_upper_right_quarter": {
            "x": 64.120032,
            "y": 20.249833
        }
    };
    window.onload = function() {
        var canvas = document.getElementById("canvas");
//        canvas.width = data.face_width;
//        canvas.height = data.face_height;
        canvas.width = 5000;
        canvas.height = 5000;
        var context = canvas.getContext("2d");
        var keys = Object.keys(data);
        console.log(keys);
        context.font = "normal 20px/0 \"Lucida Console\", Monaco, monospace";
        context.fillStyle = "#666666";
        context.textAlign = "center";
        context.textBaseline = "middle";
//        var validData = [0, 9, 18, 7, 16, 6, 15,
//            41, 38, 44, 37, 49, 40, 46, 52, 43, 48, 54, 51,
//            58,
//            29, 34, 35, 36, 33,
//            79, 82, 81, 80, 75,
//            20, 21, 27, 26, 28, 25, 22, 19, 23,
//            70, 67, 73, 72, 74, 71, 68, 65, 69];
//
//        for (var i = 0; i < keys.length; i++) {
//            for (var j = 0; j < validData.length; j++) {
//                if (validData[j] == i) {
//                    context.fillText(i + "", data[keys[i]]['x'] * 30, data[keys[i]]['y'] * 30);
//                }
//            }
//        }
//        var validData = [[47.281248, 23.0815],
//            [60.218155, 22.577333],
//            [54.971952, 28.781333],
//            [50.948501, 32.9205],
//            [57.736555, 32.7335],
//            [42.003211, 34.307667],
//            [64.750709, 33.229333],
//            [44.0672, 36.154],
//            [63.184795, 34.870333],
//            [50.779051, 38.130333],
//            [58.777323, 37.485667],
//            [54.966939, 38.008333],
//            [41.508896, 22.39],
//            [42.902603, 20.777833],
//            [45.639883, 20.029667],
//            [48.588475, 20.171167],
//            [50.885083, 21.406833],
//            [56.830144, 21.151167],
//            [59.260357, 19.8925],
//            [61.519867, 19.579167],
//            [64.120032, 20.249833],
//            [65.260315, 21.915],
//            [44.281771, 23.398667],
//            [45.670965, 22.675833],
//            [47.337397, 22.379167],
//            [48.756672, 22.667333],
//            [50.382747, 23.3945],
//            [48.826357, 23.515667],
//            [47.357952, 23.674],
//            [45.738144, 23.577167],
//            [56.948709, 23.058],
//            [58.439424, 22.272333],
//            [60.080539, 22.005833],
//            [61.500315, 22.240833],
//            [62.824336, 22.955],
//            [61.745216, 23.093],
//            [60.218155, 23.254167],
//            [58.369237, 23.139667],
//            [53.334848, 31.736667],
//            [54.808016, 31.928833],
//            [56.075387, 31.659667],
//            [56.126021, 33.2755],
//            [54.405445, 33.391167],
//            [52.655541, 33.305833],
//            [51.155051, 32.138833],
//            [49.217147, 32.491833],
//            [57.48664, 31.793667],
//            [58.859792, 32.202]];
//        var validData =   [[33.1986, 59.011236],
//            [49.0126, 58.247566],
//            [42.01895, 67.409363],
//            [36.242, 74.494757],
//            [48.6597, 73.943446],
//            [28.9779, 75.315356],
//            [55.5745, 74.18427],
//            [31.6341, 78.159551],
//            [53.507, 77.197378],
//            [38.78975, 82.451685],
//            [48.5733, 82.197004],
//            [43.8386, 82.914232],
//            [27.0488, 55.640824],
//            [28.7471, 54.241948],
//            [30.97745, 53.268914],
//            [34.0922, 53.22397],
//            [36.87185, 54.21573],
//            [44.7481, 54.231086],
//            [47.0244, 52.656929],
//            [49.72965, 52.403745],
//            [53.0845, 53.080524],
//            [54.802, 54.780524],
//            [29.5274, 59.125468],
//            [31.49075, 58.557303],
//            [33.4034, 58.456929],
//            [34.9054, 58.683521],
//            [37.0337, 59.203745],
//            [34.92525, 59.422097],
//            [33.16535, 59.482022],
//            [31.30135, 59.465543],
//            [46.08865, 58.658427],
//            [47.89135, 57.791011],
//            [49.55985, 57.662921],
//            [51.094, 57.546816],
//            [53.0015, 58.098502],
//            [51.4175, 58.465169],
//            [49.67975, 58.6603],
//            [47.72755, 58.731461],
//            [40.32085, 69.932959],
//            [42.0305, 70.028839],
//            [43.7141, 69.756554],
//            [45.90785, 76.207491],
//            [42.3992, 77.055056],
//            [38.77435, 76.5397],
//            [36.66125, 70.651685],
//            [34.26395, 72.153558],
//            [47.3233, 70.085393],
//            [49.7414, 71.502996]];
        var validData =   [[35.545685, 37.028533],
            [42.162606, 36.847733],
            [40.14687, 44.583733],
            [36.344839, 51.115733],
            [41.821997, 50.298667],
            [32.573096, 52.245867],
            [43.638917, 50.168267],
            [34.180203, 54.906933],
            [43.042809, 52.412],
            [37.658883, 57.8584],
            [41.396108, 56.934133],
            [39.751607, 57.9152],
            [32.771574, 33.865067],
            [33.544162, 32.386933],
            [35.107953, 32.121333],
            [36.394924, 32.4728],
            [37.495601, 33.742133],
            [40.955499, 33.8552],
            [41.604907, 32.551467],
            [42.518613, 32.115467],
            [43.451438, 32.319733],
            [44.123519, 33.459467],
            [33.968697, 36.896533],
            [34.7978, 36.346667],
            [35.662267, 36.248],
            [36.331641, 36.4568],
            [37.076311, 37.552533],
            [36.281726, 37.8016],
            [35.569374, 37.8144],
            [34.631472, 37.503467],
            [40.904569, 37.520533],
            [41.530964, 36.403733],
            [42.329103, 36.077067],
            [42.91912, 36.2208],
            [43.393739, 36.750133],
            [42.994585, 37.269333],
            [42.38731, 37.596533],
            [41.546193, 37.612],
            [39.094924, 46.3856],
            [39.78088, 46.4912],
            [40.455161, 46.350933],
            [41.152284, 52.541067],
            [39.675296, 53.6064],
            [37.728934, 53.093067],
            [37.017766, 47.307733],
            [35.507953, 48.706133],
            [41.593739, 46.56],
            [42.062437, 47.818933]];
        for (var i = 0; i < validData.length; i++) {
            context.fillText(i + "", validData[i][0] * 20, validData[i][1] * 20);
            console.log(validData[i][0], validData[i][1]);
        }

    };
</script>
</body>
</html>