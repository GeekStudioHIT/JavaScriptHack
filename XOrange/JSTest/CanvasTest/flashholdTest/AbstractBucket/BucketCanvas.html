<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<canvas id="canvas" style="border:1px solid #aaa; display:block; margin:50px auto">
    当前浏览器不支持 Canvas，请更换浏览器后再试
</canvas>
<script>
    {
        var bucketsData1 =
                [
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907503,
                        "lastUpdatedApp": "JobManager:1194",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-1-1",
                        "bucketID": "65",
                        "bucketLayer": 1,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-1",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-2",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "StorageManager:165",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-3-1",
                        "bucketID": "65",
                        "bucketLayer": 3,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907505,
                        "lastUpdatedApp": "JobManager:1265",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-3-2",
                        "bucketID": "65",
                        "bucketLayer": 3,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "skuID": "DZHPFSU143220M5103",
                        "quantity": 4,
                        "lockQuantity": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "sku": {
                            "createdUser": "DataLoad",
                            "createdApp": "DBDebugForL",
                            "createdDate": 1422091900429,
                            "lastUpdatedUser": "DataLoad",
                            "lastUpdatedApp": "DBDebugForL",
                            "lastUpdatedDate": 1422091900429,
                            "customerID": 2,
                            "skuID": "DZHPFSU143220M5103",
                            "skuNumber": "PFSU143220M5103",
                            "externalID": "PFSU143220M5103",
                            "name": "男式家居服套装 大红 L",
                            "weight": 660,
                            "image": "PFSU143220M5103.jpg",
                            "imageChanged": false,
                            "virtual": false,
                            "canAdd": false,
                            "enableBatch": false,
                            "breakable": false,
                            "heavy": false,
                            "isLpn": false,
                            "autoSetCapacity": false,
                            "packingQty": 0,
                            "isSpecialShape": false,
                            "eans": [
                                "PFSU143220M5103"
                            ]
                        },
                        "storages": [
                            {
                                "lastUpdatedApp": "SlotQuantityChangeExecutor:55",
                                "lastUpdatedDate": 1468622369812,
                                "bucketSlotID": "65-2-3-2",
                                "skuID": "DZHPFSU143220M5103",
                                "quantity": 4,
                                "lockQuantity": 0,
                                "sku": {
                                    "createdUser": "DataLoad",
                                    "createdApp": "DBDebugForL",
                                    "createdDate": 1422091900429,
                                    "lastUpdatedUser": "DataLoad",
                                    "lastUpdatedApp": "DBDebugForL",
                                    "lastUpdatedDate": 1422091900429,
                                    "customerID": 2,
                                    "skuID": "DZHPFSU143220M5103",
                                    "skuNumber": "PFSU143220M5103",
                                    "name": "男式家居服套装 大红 L",
                                    "quantity": 4,
                                    "weight": 660,
                                    "image": "PFSU143220M5103.jpg",
                                    "imageChanged": false,
                                    "virtual": false,
                                    "canAdd": false,
                                    "enableBatch": false,
                                    "breakable": false,
                                    "heavy": false,
                                    "isLpn": false,
                                    "autoSetCapacity": false,
                                    "packingQty": 0,
                                    "isSpecialShape": false,
                                    "eans": [
                                        "PFSU143220M5103"
                                    ]
                                }
                            }
                        ],
                        "actualQuantity": 4,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907505,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-4-1",
                        "bucketID": "65",
                        "bucketLayer": 4,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907506,
                        "lastUpdatedApp": "StorageManager:181",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-4-2",
                        "bucketID": "65",
                        "bucketLayer": 4,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "skuID": "DZHPFDJ144546L8003",
                        "quantity": 2,
                        "lockQuantity": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "sku": {
                            "createdUser": "DataLoad",
                            "createdApp": "DBDebugForL",
                            "createdDate": 1422091900085,
                            "lastUpdatedUser": "DataLoad",
                            "lastUpdatedApp": "DBDebugForL",
                            "lastUpdatedDate": 1425904506120,
                            "customerID": 2,
                            "skuID": "DZHPFDJ144546L8003",
                            "skuNumber": "PFDJ144546L8003",
                            "externalID": "PFDJ144546L8003",
                            "name": "PFDJ144546L8003",
                            "image": "PFDJ144546L8003.jpg",
                            "imageChanged": false,
                            "virtual": false,
                            "canAdd": false,
                            "enableBatch": false,
                            "breakable": false,
                            "heavy": false,
                            "isLpn": false,
                            "autoSetCapacity": false,
                            "packingQty": 0,
                            "isSpecialShape": false,
                            "eans": [
                                "PFDJ144546L8003"
                            ]
                        },
                        "storages": [
                            {
                                "lastUpdatedDate": 1468622369812,
                                "bucketSlotID": "65-2-4-2",
                                "skuID": "DZHPFDJ144546L8003",
                                "quantity": 2,
                                "lockQuantity": 0,
                                "sku": {
                                    "createdUser": "DataLoad",
                                    "createdApp": "DBDebugForL",
                                    "createdDate": 1422091900085,
                                    "lastUpdatedUser": "DataLoad",
                                    "lastUpdatedApp": "DBDebugForL",
                                    "lastUpdatedDate": 1425904506120,
                                    "customerID": 2,
                                    "skuID": "DZHPFDJ144546L8003",
                                    "skuNumber": "PFDJ144546L8003",
                                    "name": "PFDJ144546L8003",
                                    "quantity": 2,
                                    "image": "PFDJ144546L8003.jpg",
                                    "imageChanged": false,
                                    "virtual": false,
                                    "canAdd": false,
                                    "enableBatch": false,
                                    "breakable": false,
                                    "heavy": false,
                                    "isLpn": false,
                                    "autoSetCapacity": false,
                                    "packingQty": 0,
                                    "isSpecialShape": false,
                                    "eans": [
                                        "PFDJ144546L8003"
                                    ]
                                }
                            }
                        ],
                        "actualQuantity": 2,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610768741,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_1",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610880484,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_2",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091906884,
                        "lastUpdatedApp": "BucketManager:215",
                        "lastUpdatedDate": 1468784165345,
                        "customerID": 2,
                        "bucketID": "65",
                        "bucketTypeID": 3,
                        "state": "STATIC",
                        "waypointID": 524291,
                        "driveunitID": "0",
                        "topFace": 4,
                        "bucketType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873644,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1433941604479,
                            "bucketTypeID": 3,
                            "name": "T250",
                            "width": 90,
                            "availableWidth": 80,
                            "height": 250,
                            "availableHeight": 210,
                            "layout": "2(1-42-37, 2-42-37,3-42-37,4-42-37,5-42-37);4(1-42-37,2-42-37,3-42-37,4-42-37,5-42-37)"
                        },
                        "bucketSlots": []
                    }
                ];
    }
    {
        var bucketsData2 =
                [
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907503,
                        "lastUpdatedApp": "JobManager:1194",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-1-1",
                        "bucketID": "65",
                        "bucketLayer": 1,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-1",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-2",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-1",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 18,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-2",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 18,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "StorageManager:165",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-3-1",
                        "bucketID": "65",
                        "bucketLayer": 3,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907505,
                        "lastUpdatedApp": "JobManager:1265",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-3-2",
                        "bucketID": "65",
                        "bucketLayer": 3,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "skuID": "DZHPFSU143220M5103",
                        "quantity": 4,
                        "lockQuantity": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "sku": {
                            "createdUser": "DataLoad",
                            "createdApp": "DBDebugForL",
                            "createdDate": 1422091900429,
                            "lastUpdatedUser": "DataLoad",
                            "lastUpdatedApp": "DBDebugForL",
                            "lastUpdatedDate": 1422091900429,
                            "customerID": 2,
                            "skuID": "DZHPFSU143220M5103",
                            "skuNumber": "PFSU143220M5103",
                            "externalID": "PFSU143220M5103",
                            "name": "男式家居服套装 大红 L",
                            "weight": 660,
                            "image": "PFSU143220M5103.jpg",
                            "imageChanged": false,
                            "virtual": false,
                            "canAdd": false,
                            "enableBatch": false,
                            "breakable": false,
                            "heavy": false,
                            "isLpn": false,
                            "autoSetCapacity": false,
                            "packingQty": 0,
                            "isSpecialShape": false,
                            "eans": [
                                "PFSU143220M5103"
                            ]
                        },
                        "storages": [
                            {
                                "lastUpdatedApp": "SlotQuantityChangeExecutor:55",
                                "lastUpdatedDate": 1468622369812,
                                "bucketSlotID": "65-2-3-2",
                                "skuID": "DZHPFSU143220M5103",
                                "quantity": 4,
                                "lockQuantity": 0,
                                "sku": {
                                    "createdUser": "DataLoad",
                                    "createdApp": "DBDebugForL",
                                    "createdDate": 1422091900429,
                                    "lastUpdatedUser": "DataLoad",
                                    "lastUpdatedApp": "DBDebugForL",
                                    "lastUpdatedDate": 1422091900429,
                                    "customerID": 2,
                                    "skuID": "DZHPFSU143220M5103",
                                    "skuNumber": "PFSU143220M5103",
                                    "name": "男式家居服套装 大红 L",
                                    "quantity": 4,
                                    "weight": 660,
                                    "image": "PFSU143220M5103.jpg",
                                    "imageChanged": false,
                                    "virtual": false,
                                    "canAdd": false,
                                    "enableBatch": false,
                                    "breakable": false,
                                    "heavy": false,
                                    "isLpn": false,
                                    "autoSetCapacity": false,
                                    "packingQty": 0,
                                    "isSpecialShape": false,
                                    "eans": [
                                        "PFSU143220M5103"
                                    ]
                                }
                            }
                        ],
                        "actualQuantity": 4,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907505,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-4-1",
                        "bucketID": "65",
                        "bucketLayer": 4,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907506,
                        "lastUpdatedApp": "StorageManager:181",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-4-2",
                        "bucketID": "65",
                        "bucketLayer": 4,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "skuID": "DZHPFDJ144546L8003",
                        "quantity": 2,
                        "lockQuantity": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "sku": {
                            "createdUser": "DataLoad",
                            "createdApp": "DBDebugForL",
                            "createdDate": 1422091900085,
                            "lastUpdatedUser": "DataLoad",
                            "lastUpdatedApp": "DBDebugForL",
                            "lastUpdatedDate": 1425904506120,
                            "customerID": 2,
                            "skuID": "DZHPFDJ144546L8003",
                            "skuNumber": "PFDJ144546L8003",
                            "externalID": "PFDJ144546L8003",
                            "name": "PFDJ144546L8003",
                            "image": "PFDJ144546L8003.jpg",
                            "imageChanged": false,
                            "virtual": false,
                            "canAdd": false,
                            "enableBatch": false,
                            "breakable": false,
                            "heavy": false,
                            "isLpn": false,
                            "autoSetCapacity": false,
                            "packingQty": 0,
                            "isSpecialShape": false,
                            "eans": [
                                "PFDJ144546L8003"
                            ]
                        },
                        "storages": [
                            {
                                "lastUpdatedDate": 1468622369812,
                                "bucketSlotID": "65-2-4-2",
                                "skuID": "DZHPFDJ144546L8003",
                                "quantity": 2,
                                "lockQuantity": 0,
                                "sku": {
                                    "createdUser": "DataLoad",
                                    "createdApp": "DBDebugForL",
                                    "createdDate": 1422091900085,
                                    "lastUpdatedUser": "DataLoad",
                                    "lastUpdatedApp": "DBDebugForL",
                                    "lastUpdatedDate": 1425904506120,
                                    "customerID": 2,
                                    "skuID": "DZHPFDJ144546L8003",
                                    "skuNumber": "PFDJ144546L8003",
                                    "name": "PFDJ144546L8003",
                                    "quantity": 2,
                                    "image": "PFDJ144546L8003.jpg",
                                    "imageChanged": false,
                                    "virtual": false,
                                    "canAdd": false,
                                    "enableBatch": false,
                                    "breakable": false,
                                    "heavy": false,
                                    "isLpn": false,
                                    "autoSetCapacity": false,
                                    "packingQty": 0,
                                    "isSpecialShape": false,
                                    "eans": [
                                        "PFDJ144546L8003"
                                    ]
                                }
                            }
                        ],
                        "actualQuantity": 2,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610768741,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_1",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610880484,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_2",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091906884,
                        "lastUpdatedApp": "BucketManager:215",
                        "lastUpdatedDate": 1468784165345,
                        "customerID": 2,
                        "bucketID": "65",
                        "bucketTypeID": 3,
                        "state": "STATIC",
                        "waypointID": 524291,
                        "driveunitID": "0",
                        "topFace": 4,
                        "bucketType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873644,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1433941604479,
                            "bucketTypeID": 3,
                            "name": "T250",
                            "width": 90,
                            "availableWidth": 80,
                            "height": 250,
                            "availableHeight": 210,
                            "layout": "2(1-42-37, 2-42-37,3-42-37,4-42-37,5-42-37);4(1-42-37,2-42-37,3-42-37,4-42-37,5-42-37)"
                        },
                        "bucketSlots": []
                    }
                ];
    }

    {
        var bucketsData3 =
                [
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907503,
                        "lastUpdatedApp": "JobManager:1194",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-1-1",
                        "bucketID": "65",
                        "bucketLayer": 1,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-1",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-2",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-1",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 18,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-2",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 18,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "StorageManager:165",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-3-1",
                        "bucketID": "65",
                        "bucketLayer": 3,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907505,
                        "lastUpdatedApp": "JobManager:1265",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-3-2",
                        "bucketID": "65",
                        "bucketLayer": 3,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "skuID": "DZHPFSU143220M5103",
                        "quantity": 4,
                        "lockQuantity": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "sku": {
                            "createdUser": "DataLoad",
                            "createdApp": "DBDebugForL",
                            "createdDate": 1422091900429,
                            "lastUpdatedUser": "DataLoad",
                            "lastUpdatedApp": "DBDebugForL",
                            "lastUpdatedDate": 1422091900429,
                            "customerID": 2,
                            "skuID": "DZHPFSU143220M5103",
                            "skuNumber": "PFSU143220M5103",
                            "externalID": "PFSU143220M5103",
                            "name": "男式家居服套装 大红 L",
                            "weight": 660,
                            "image": "PFSU143220M5103.jpg",
                            "imageChanged": false,
                            "virtual": false,
                            "canAdd": false,
                            "enableBatch": false,
                            "breakable": false,
                            "heavy": false,
                            "isLpn": false,
                            "autoSetCapacity": false,
                            "packingQty": 0,
                            "isSpecialShape": false,
                            "eans": [
                                "PFSU143220M5103"
                            ]
                        },
                        "storages": [
                            {
                                "lastUpdatedApp": "SlotQuantityChangeExecutor:55",
                                "lastUpdatedDate": 1468622369812,
                                "bucketSlotID": "65-2-3-2",
                                "skuID": "DZHPFSU143220M5103",
                                "quantity": 4,
                                "lockQuantity": 0,
                                "sku": {
                                    "createdUser": "DataLoad",
                                    "createdApp": "DBDebugForL",
                                    "createdDate": 1422091900429,
                                    "lastUpdatedUser": "DataLoad",
                                    "lastUpdatedApp": "DBDebugForL",
                                    "lastUpdatedDate": 1422091900429,
                                    "customerID": 2,
                                    "skuID": "DZHPFSU143220M5103",
                                    "skuNumber": "PFSU143220M5103",
                                    "name": "男式家居服套装 大红 L",
                                    "quantity": 4,
                                    "weight": 660,
                                    "image": "PFSU143220M5103.jpg",
                                    "imageChanged": false,
                                    "virtual": false,
                                    "canAdd": false,
                                    "enableBatch": false,
                                    "breakable": false,
                                    "heavy": false,
                                    "isLpn": false,
                                    "autoSetCapacity": false,
                                    "packingQty": 0,
                                    "isSpecialShape": false,
                                    "eans": [
                                        "PFSU143220M5103"
                                    ]
                                }
                            }
                        ],
                        "actualQuantity": 4,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907505,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-4-1",
                        "bucketID": "65",
                        "bucketLayer": 4,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907506,
                        "lastUpdatedApp": "StorageManager:181",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-4-2",
                        "bucketID": "65",
                        "bucketLayer": 4,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "skuID": "DZHPFDJ144546L8003",
                        "quantity": 2,
                        "lockQuantity": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "sku": {
                            "createdUser": "DataLoad",
                            "createdApp": "DBDebugForL",
                            "createdDate": 1422091900085,
                            "lastUpdatedUser": "DataLoad",
                            "lastUpdatedApp": "DBDebugForL",
                            "lastUpdatedDate": 1425904506120,
                            "customerID": 2,
                            "skuID": "DZHPFDJ144546L8003",
                            "skuNumber": "PFDJ144546L8003",
                            "externalID": "PFDJ144546L8003",
                            "name": "PFDJ144546L8003",
                            "image": "PFDJ144546L8003.jpg",
                            "imageChanged": false,
                            "virtual": false,
                            "canAdd": false,
                            "enableBatch": false,
                            "breakable": false,
                            "heavy": false,
                            "isLpn": false,
                            "autoSetCapacity": false,
                            "packingQty": 0,
                            "isSpecialShape": false,
                            "eans": [
                                "PFDJ144546L8003"
                            ]
                        },
                        "storages": [
                            {
                                "lastUpdatedDate": 1468622369812,
                                "bucketSlotID": "65-2-4-2",
                                "skuID": "DZHPFDJ144546L8003",
                                "quantity": 2,
                                "lockQuantity": 0,
                                "sku": {
                                    "createdUser": "DataLoad",
                                    "createdApp": "DBDebugForL",
                                    "createdDate": 1422091900085,
                                    "lastUpdatedUser": "DataLoad",
                                    "lastUpdatedApp": "DBDebugForL",
                                    "lastUpdatedDate": 1425904506120,
                                    "customerID": 2,
                                    "skuID": "DZHPFDJ144546L8003",
                                    "skuNumber": "PFDJ144546L8003",
                                    "name": "PFDJ144546L8003",
                                    "quantity": 2,
                                    "image": "PFDJ144546L8003.jpg",
                                    "imageChanged": false,
                                    "virtual": false,
                                    "canAdd": false,
                                    "enableBatch": false,
                                    "breakable": false,
                                    "heavy": false,
                                    "isLpn": false,
                                    "autoSetCapacity": false,
                                    "packingQty": 0,
                                    "isSpecialShape": false,
                                    "eans": [
                                        "PFDJ144546L8003"
                                    ]
                                }
                            }
                        ],
                        "actualQuantity": 2,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610768741,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_1",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 40,
                            "height": 12,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610880484,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_2",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 40,
                            "height": 12,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610880484,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_2",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 12,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 40,
                            "height": 12,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610880484,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_2",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 12,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 40,
                            "height": 12,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610880484,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_2",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 24,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 40,
                            "height": 12,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610880484,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_2",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 24,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 40,
                            "height": 12,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091906884,
                        "lastUpdatedApp": "BucketManager:215",
                        "lastUpdatedDate": 1468784165345,
                        "customerID": 2,
                        "bucketID": "65",
                        "bucketTypeID": 3,
                        "state": "STATIC",
                        "waypointID": 524291,
                        "driveunitID": "0",
                        "topFace": 4,
                        "bucketType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873644,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1433941604479,
                            "bucketTypeID": 3,
                            "name": "T250",
                            "width": 90,
                            "availableWidth": 80,
                            "height": 250,
                            "availableHeight": 210,
                            "layout": "2(1-42-37, 2-42-37,3-42-37,4-42-37,5-42-37);4(1-42-37,2-42-37,3-42-37,4-42-37,5-42-37)"
                        },
                        "bucketSlots": []
                    }
                ];
    }

    {
        var bucketsData4 =
                [
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907503,
                        "lastUpdatedApp": "JobManager:1194",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-1-1",
                        "bucketID": "65",
                        "bucketLayer": 1,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-1",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-2",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-1",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 18,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-2-2",
                        "bucketID": "65",
                        "bucketLayer": 2,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 18,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 18,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907504,
                        "lastUpdatedApp": "StorageManager:165",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-3-1",
                        "bucketID": "65",
                        "bucketLayer": 3,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907505,
                        "lastUpdatedApp": "JobManager:1265",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-3-2",
                        "bucketID": "65",
                        "bucketLayer": 3,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "skuID": "DZHPFSU143220M5103",
                        "quantity": 4,
                        "lockQuantity": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "sku": {
                            "createdUser": "DataLoad",
                            "createdApp": "DBDebugForL",
                            "createdDate": 1422091900429,
                            "lastUpdatedUser": "DataLoad",
                            "lastUpdatedApp": "DBDebugForL",
                            "lastUpdatedDate": 1422091900429,
                            "customerID": 2,
                            "skuID": "DZHPFSU143220M5103",
                            "skuNumber": "PFSU143220M5103",
                            "externalID": "PFSU143220M5103",
                            "name": "男式家居服套装 大红 L",
                            "weight": 660,
                            "image": "PFSU143220M5103.jpg",
                            "imageChanged": false,
                            "virtual": false,
                            "canAdd": false,
                            "enableBatch": false,
                            "breakable": false,
                            "heavy": false,
                            "isLpn": false,
                            "autoSetCapacity": false,
                            "packingQty": 0,
                            "isSpecialShape": false,
                            "eans": [
                                "PFSU143220M5103"
                            ]
                        },
                        "storages": [
                            {
                                "lastUpdatedApp": "SlotQuantityChangeExecutor:55",
                                "lastUpdatedDate": 1468622369812,
                                "bucketSlotID": "65-2-3-2",
                                "skuID": "DZHPFSU143220M5103",
                                "quantity": 4,
                                "lockQuantity": 0,
                                "sku": {
                                    "createdUser": "DataLoad",
                                    "createdApp": "DBDebugForL",
                                    "createdDate": 1422091900429,
                                    "lastUpdatedUser": "DataLoad",
                                    "lastUpdatedApp": "DBDebugForL",
                                    "lastUpdatedDate": 1422091900429,
                                    "customerID": 2,
                                    "skuID": "DZHPFSU143220M5103",
                                    "skuNumber": "PFSU143220M5103",
                                    "name": "男式家居服套装 大红 L",
                                    "quantity": 4,
                                    "weight": 660,
                                    "image": "PFSU143220M5103.jpg",
                                    "imageChanged": false,
                                    "virtual": false,
                                    "canAdd": false,
                                    "enableBatch": false,
                                    "breakable": false,
                                    "heavy": false,
                                    "isLpn": false,
                                    "autoSetCapacity": false,
                                    "packingQty": 0,
                                    "isSpecialShape": false,
                                    "eans": [
                                        "PFSU143220M5103"
                                    ]
                                }
                            }
                        ],
                        "actualQuantity": 4,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907505,
                        "lastUpdatedApp": "JobManager:1345",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-4-1",
                        "bucketID": "65",
                        "bucketLayer": 4,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091907506,
                        "lastUpdatedApp": "StorageManager:181",
                        "lastUpdatedDate": 1434685772638,
                        "customerID": 2,
                        "bucketSlotID": "65-2-4-2",
                        "bucketID": "65",
                        "bucketLayer": 4,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "skuID": "DZHPFDJ144546L8003",
                        "quantity": 2,
                        "lockQuantity": 0,
                        "bucketSlotTypeID": 8,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873645,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1449839654393,
                            "bucketSlotTypeID": 8,
                            "name": "T12H",
                            "length": 45,
                            "width": 40,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "sku": {
                            "createdUser": "DataLoad",
                            "createdApp": "DBDebugForL",
                            "createdDate": 1422091900085,
                            "lastUpdatedUser": "DataLoad",
                            "lastUpdatedApp": "DBDebugForL",
                            "lastUpdatedDate": 1425904506120,
                            "customerID": 2,
                            "skuID": "DZHPFDJ144546L8003",
                            "skuNumber": "PFDJ144546L8003",
                            "externalID": "PFDJ144546L8003",
                            "name": "PFDJ144546L8003",
                            "image": "PFDJ144546L8003.jpg",
                            "imageChanged": false,
                            "virtual": false,
                            "canAdd": false,
                            "enableBatch": false,
                            "breakable": false,
                            "heavy": false,
                            "isLpn": false,
                            "autoSetCapacity": false,
                            "packingQty": 0,
                            "isSpecialShape": false,
                            "eans": [
                                "PFDJ144546L8003"
                            ]
                        },
                        "storages": [
                            {
                                "lastUpdatedDate": 1468622369812,
                                "bucketSlotID": "65-2-4-2",
                                "skuID": "DZHPFDJ144546L8003",
                                "quantity": 2,
                                "lockQuantity": 0,
                                "sku": {
                                    "createdUser": "DataLoad",
                                    "createdApp": "DBDebugForL",
                                    "createdDate": 1422091900085,
                                    "lastUpdatedUser": "DataLoad",
                                    "lastUpdatedApp": "DBDebugForL",
                                    "lastUpdatedDate": 1425904506120,
                                    "customerID": 2,
                                    "skuID": "DZHPFDJ144546L8003",
                                    "skuNumber": "PFDJ144546L8003",
                                    "name": "PFDJ144546L8003",
                                    "quantity": 2,
                                    "image": "PFDJ144546L8003.jpg",
                                    "imageChanged": false,
                                    "virtual": false,
                                    "canAdd": false,
                                    "enableBatch": false,
                                    "breakable": false,
                                    "heavy": false,
                                    "isLpn": false,
                                    "autoSetCapacity": false,
                                    "packingQty": 0,
                                    "isSpecialShape": false,
                                    "eans": [
                                        "PFDJ144546L8003"
                                    ]
                                }
                            }
                        ],
                        "actualQuantity": 2,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610768741,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_1",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 0,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 20,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610880484,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_2",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 20,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 20,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610880484,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_2",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 40,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 20,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "haixian",
                        "createdApp": "manual",
                        "createdDate": 1434610880484,
                        "lastUpdatedApp": "JobManager:882",
                        "lastUpdatedDate": 1434687507912,
                        "customerID": 4,
                        "bucketSlotID": "65_2_5_2",
                        "bucketID": "65",
                        "bucketLayer": 5,
                        "bucketFaceNum": 2,
                        "bucketOffset": 60,
                        "bucketVOffset": 0,
                        "bucketSlotTypeID": 12,
                        "bucketSlotType": {
                            "createdUser": "haixian",
                            "createdApp": "manual",
                            "createdDate": 1433941604467,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "manual",
                            "lastUpdatedDate": 1449839679233,
                            "bucketSlotTypeID": 12,
                            "name": "T12HT",
                            "length": 45,
                            "width": 20,
                            "height": 36,
                            "defaultCapacity": 10
                        },
                        "enabled": true,
                        "priority": 5,
                        "bucketArea": "PICKING",
                        "storages": [],
                        "actualQuantity": 0,
                        "stationCache": false
                    },
                    {
                        "createdUser": "DataLoad",
                        "createdApp": "DBDebugForL",
                        "createdDate": 1422091906884,
                        "lastUpdatedApp": "BucketManager:215",
                        "lastUpdatedDate": 1468784165345,
                        "customerID": 2,
                        "bucketID": "65",
                        "bucketTypeID": 3,
                        "state": "STATIC",
                        "waypointID": 524291,
                        "driveunitID": "0",
                        "topFace": 4,
                        "bucketType": {
                            "createdUser": "haixian",
                            "createdApp": "Data_Init",
                            "createdDate": 1422091873644,
                            "lastUpdatedUser": "haixian",
                            "lastUpdatedApp": "Data_Init",
                            "lastUpdatedDate": 1433941604479,
                            "bucketTypeID": 3,
                            "name": "T250",
                            "width": 90,
                            "availableWidth": 80,
                            "height": 250,
                            "availableHeight": 210,
                            "layout": "2(1-42-37, 2-42-37,3-42-37,4-42-37,5-42-37);4(1-42-37,2-42-37,3-42-37,4-42-37,5-42-37)"
                        },
                        "bucketSlots": []
                    }
                ];
    }


    window.onload = function() {

//        var bucketsData = bucketsData1;
//        var bucketsData = bucketsData2;
        var bucketsData = bucketsData3;
//        var bucketsData = bucketsData4;

        // 过滤 bucketFaceNum = 4 的元素
        var filterBucketsData = [];
        for (var i = 0; i < bucketsData.length; i++) {
            if (bucketsData[i].bucketFaceNum != 4) {
                filterBucketsData.push(bucketsData[i]);
            }
        }

        // 按 层, VOffset, Offset 对 data 进行自定义排序.
        // 最后一个元素为整个货架的信息.
        var sortedBucketsData = filterBucketsData.sort(function(item1, item2){
            if (item1.bucketLayer != item2.bucketLayer) {
                return -(item1.bucketLayer - item2.bucketLayer);
            } else {
                if (item1.bucketVOffset != item2.bucketVOffset) {
                    return item1.bucketVOffset - item2.bucketVOffset;
                } else {
                    return item1.bucketOffset - item2.bucketOffset;
                }
            }
        });

        // data 的长度
        var lengthOfSortedBucketsData = sortedBucketsData.length;

//        // 计算货架高度和宽度
//        // 计算货架高度和宽度 初始化
//        var currentLayer = sortedBucketsData[0].bucketLayer;              // 当前所在层
//        var currentBucketVOffset = sortedBucketsData[0].bucketVOffset;    // 当前货架的 VOffset
//        var heightOfBuckets = sortedBucketsData[0].bucketSlotType.height; // 货架高度
//        var widthOfBuckets = 0;                                           // 货架宽度
//        var currentLayerWidth = 0;                                        // 当前层的宽度
//
//        // 计算货架高度和宽度 遍历 data
//        for (var i = 0; i < lengthOfSortedBucketsData - 1; i++) {
//            if (currentLayer == sortedBucketsData[i].bucketLayer) {
//                if (currentBucketVOffset == sortedBucketsData[i].bucketVOffset) {
//                    currentLayerWidth += sortedBucketsData[i].bucketSlotType.width;
//                } else if (currentBucketVOffset < sortedBucketsData[i].bucketVOffset) {
//                    if (currentLayerWidth > widthOfBuckets) {
//                        widthOfBuckets = currentLayerWidth;
//                    }
//                    currentLayerWidth = sortedBucketsData[i].bucketSlotType.width;
//
//                    currentBucketVOffset = sortedBucketsData[i].bucketVOffset;
//
//                    heightOfBuckets += sortedBucketsData[i].bucketSlotType.height;
//                }
//            } else if (currentLayer > sortedBucketsData[i].bucketLayer) {
//                if (currentLayerWidth > widthOfBuckets) {
//                    widthOfBuckets = currentLayerWidth;
//                }
//                currentLayerWidth = sortedBucketsData[i].bucketSlotType.width;
//
//                currentBucketVOffset = sortedBucketsData[i].bucketVOffset;
//                currentLayer = sortedBucketsData[i].bucketLayer;
//
//                heightOfBuckets += sortedBucketsData[i].bucketSlotType.height;
//            }
//        }
//
//        if (currentLayerWidth > widthOfBuckets) {
//            widthOfBuckets = currentLayerWidth;
//        }

        // 设置 canvas 大小
        var canvas = document.getElementById("canvas");
//        canvas.width = widthOfBuckets;
//        canvas.height = heightOfBuckets;
        canvas.width = sortedBucketsData[lengthOfSortedBucketsData - 1].bucketType.availableWidth;
        canvas.height = sortedBucketsData[lengthOfSortedBucketsData - 1].bucketType.availableHeight;
        var ctx = canvas.getContext("2d");
        ctx.fillStyle = "#ffa726";
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // 开始绘制
        // 开始绘制 初始化
        var intervalBarHeight = 5;
        var layerStartY = intervalBarHeight;
        var currentHeightBucket = intervalBarHeight + sortedBucketsData[0].bucketSlotType.height;
        var currentLayer = sortedBucketsData[0].bucketLayer;
        var currentBucketVOffset = sortedBucketsData[0].bucketVOffset;
        for (var i = 0; i < lengthOfSortedBucketsData - 1; i++) {
            if (currentLayer == sortedBucketsData[i].bucketLayer) {
                if (currentBucketVOffset < sortedBucketsData[i].bucketVOffset) {
                    currentHeightBucket += sortedBucketsData[i].bucketSlotType.height;
                    currentBucketVOffset = sortedBucketsData[i].bucketVOffset;
                }
            } else if (currentLayer > sortedBucketsData[i].bucketLayer) {
                layerStartY = currentHeightBucket + intervalBarHeight;
                currentHeightBucket += (sortedBucketsData[i].bucketSlotType.height + intervalBarHeight);
                currentBucketVOffset = sortedBucketsData[i].bucketVOffset;
                currentLayer = sortedBucketsData[i].bucketLayer;
            }
            ctx.fillStyle = "#29b6f6";
            ctx.fillRect(sortedBucketsData[i].bucketOffset, layerStartY + sortedBucketsData[i].bucketVOffset,
                    sortedBucketsData[i].bucketSlotType.width, sortedBucketsData[i].bucketSlotType.height);
            ctx.strokeStyle = "#666666";
            ctx.lineWidth = 2;
            ctx.strokeRect(sortedBucketsData[i].bucketOffset, layerStartY + sortedBucketsData[i].bucketVOffset,
                    sortedBucketsData[i].bucketSlotType.width, sortedBucketsData[i].bucketSlotType.height);
        }
//        var startY = 0;
//        var currentLayerHeight = 0;
//        currentLayer = sortedBucketsData[0].bucketLayer;
//        currentBucketVOffset = sortedBucketsData[0].bucketVOffset;
//
//        for (var i = 0; i < lengthOfSortedBucketsData - 1; i++) {
//            if (currentLayer == sortedBucketsData[i].bucketLayer) {
//                if (currentBucketVOffset < sortedBucketsData[i].bucketVOffset) {
//                    currentLayerHeight += sortedBucketsData[i].bucketSlotType.height;
//                }
//            } else if (currentLayer > sortedBucketsData[i].bucketLayer) {
//            }
//        }
//        var layerStartY = heightOfBuckets - sortedBucketsData[0].bucketSlotType.height;
//        currentLayer = sortedBucketsData[0].bucketLayer;
//        for (var i = 0; i < lengthOfSortedBucketsData - 1; i++) {
//            if (currentLayer < sortedBucketsData[i].bucketLayer) {
//                currentLayer = sortedBucketsData[i].bucketLayer;
//                layerStartY -= sortedBucketsData[i].bucketSlotType.height;
//            }
//            ctx.strokeRect(sortedBucketsData[i].bucketOffset, layerStartY + sortedBucketsData[i].bucketVOffset,
//                    sortedBucketsData[i].bucketSlotType.width, sortedBucketsData[i].bucketSlotType.height);
//        }
    };
</script>
</body>
</html>